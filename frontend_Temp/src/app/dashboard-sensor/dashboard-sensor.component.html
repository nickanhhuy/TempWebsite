<div class="map-dashboard">
  <!-- Header -->
  <div class="header">
    <h1 class="title">Global Temperature Monitor</h1>
    <div class="search-container">
      <input 
        type="text" 
        [(ngModel)]="searchBar" 
        placeholder="Search any city worldwide..." 
        class="search-input"
        (keyup.enter)="searchCity()"
        (input)="clearError()"
      />
      <button (click)="searchCity()" class="search-btn">Search</button>
    </div>
    
    <!-- Error Message -->
    <div class="error-message" *ngIf="errorMessage">
      <span class="error-text">{{ errorMessage }}</span>
      <button class="error-close" (click)="clearError()">×</button>
    </div>
  </div>

  <!-- Map Container -->
  <div #mapContainer class="map-container"></div>

  <!-- Control Panel -->
  <div class="control-panel">
    <button (click)="loadSensors()" class="control-btn">Show All Sensors</button>
    <button (click)="resetView()" class="control-btn">Reset View</button>
  </div>

  <!-- Sensor List -->
  <div class="sensor-list" *ngIf="sensors.length > 0">
    <h3>Active Sensors</h3>
    <div class="sensor-grid">
      <div 
        class="sensor-item" 
        *ngFor="let sensor of sensors" 
        (click)="focusOnLocation(sensor)"
        [class.active]="selectedLocation?.sensor_id === sensor.sensor_id"
      >
        <div class="sensor-name">{{ sensor.location }}</div>
        <div class="sensor-temp">{{ sensor.value }}°C</div>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="spinner"></div>
    <p>Searching...</p>
  </div>
</div>

